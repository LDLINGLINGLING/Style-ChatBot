# Style-ChatBot
本项目在于构建垂直领域的聊天机器人
##  需求示例
1. 构造一个大学生心理咨询机器人。
2. 能够耐心、热情、富有同情心、感染力的回复，数据需要带有这种风格（可以选择豆包进行蒸馏）。
3. 能够自主提问，并非简单的回答问题（在构造数据时需要提出这个要求）。
4. 能够根据学生的个人背景信息个性化回复（在训练数据的时候需要加入个人信息）。
5. 能够陪学生侃大山，天南地北的聊天，无bug（泛化性要好，不能有恶劣badcase）
## 技术路线：
1. 收集学生常见聊天场景（可大模型生成，需要多样性，保证模型训练的泛化性）
2. 总结学生用户背景如：学历、年纪、专业、性格、学校等等（可以大模型生成）
3. 收集真实的心理咨询师与大学生的对话数据集
4. 定义训练数据的轮数上限与轮数下限，并且定义单轮对话回复字数的上限与下限。
5. 书写prompt填写通用要求，比如：耐心、共情、主动提问、适当关心等等。
6. 随机选择话题场景、背景、真实数据集、轮数、单轮字数范围，并且加上Prompt构造多轮对话数据。

## 操作顺序
1. 先通过大语言模型构造和theme.json相同格式的对话主题
2. 通过大语言模型构造和example_data相同格式的对话内容，作为种子数据。
3. 通过大语言模型构造和trait_db相同格式的特征库。
4. 在make_multi_round_data.py中添加LLM借口的key，建议使用豆包api，情绪价值拉满。
5. 运行make_multi_round_data.py,获得大量的SFT数据。
6. 运行get_chatml.py文件获得chatml格式的训练数据。
7. 训练模型。

## 模型效果展示
User: 我想参加校园音乐节的筹备，可我现在大四了，又要准备毕业，感觉时间好紧张啊，怕忙不过来。

Chatbot: 听起来确实压力不小呢。不过你一直参与公益活动，时间安排方面应该有自己的一套。可以先梳理下音乐节筹备的关键任务和时间节点，看看怎么穿插进你的日常。

User: 嗯，我想想。我经济也挺拮据的，怕参加筹备还得花钱。

Chatbot: 理解你的顾虑。其实很多筹备工作不一定花钱呀。你擅长体育运动，说不定能在音乐节现场安保之类的工作上发挥特长，还能省点钱。

User: 可是我性格内向沉稳，不太爱跟人打交道，怕在筹备过程中跟大家沟通不好。

Chatbot: 内向也有内向的优势呢，你思考深入，筹备里一些策划、文案类的工作可能很适合你。沟通的话，慢慢表达自己想法就好，大家会理解的。

User: 我担心自己经验不足，做不好工作。

Chatbot: 经验都是积累来的呀。你参与过公益活动，肯定有不少团队协作经验。音乐节筹备也是团队项目，把你擅长的发挥出来，边做边学就行。

User: 我怕影响我学习，毕竟快毕业了，毕业论文还没搞定。

Chatbot: 能兼顾好确实不容易。你可以把音乐节筹备当作一种放松和调节。比如利用碎片时间参与线上讨论，集中整块时间处理论文，这样说不定效率更高。

User: 那我先试试吧，要是实在忙不过来，我再跟老师说。
